jQuery.fn.extend({ecmsNumberValidate:function(a){var i={min:null,max:null,dec:0,inc:1,valid:"valid",invalid:"invalid"};if("undefined"!=typeof a)var a=$.extend(i,a);else var a=i;return this.each(function(){var i=$(this).val().toString(),t=a;if(parseFloat($(this).attr("min"))&&(t.min=$(this).attr("min")),parseFloat($(this).attr("max"))&&(t.max=$(this).attr("max")),parseFloat($(this).attr("step"))&&(t.inc=$(this).attr("step")),parseFloat($(this).data("ecms-min"))&&(t.min=$(this).data("ecms-min")),parseFloat($(this).data("ecms-max"))&&(t.max=$(this).data("ecms-max")),parseFloat($(this).data("ecms-dec"))&&(t.dec=$(this).data("ecms-dec")),parseFloat($(this).data("ecms-inc"))&&(t.inc=$(this).data("ecms-inc")),$(this).data("ecms-valid")&&(t.valid=$(this).data("ecms-valid")),$(this).data("ecms-invalid")&&(t.invalid=$(this).data("ecms-invalid")),t.min&&(t.min=parseFloat(t.min)),t.max&&(t.max=parseFloat(t.max)),isNaN(t.dec)||(t.dec=parseFloat(t.dec)),isNaN(t.inc)||(t.inc=parseFloat(t.inc)),0==t.dec&&t.inc!=Math.round(t.inc)){var s=t.inc.toString().match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);t.dec=s?Math.max(0,(s[1]?s[1].length:0)-(s[2]?+s[2]:0)):0}return i=parseFloat(i),""==i?($(this).removeClass(t.invalid+" "+t.valid),null):(i=parseFloat(i),i!=Math.round(i*(1/t.inc))/(1/t.inc)?($(this).removeClass(t.valid).addClass(t.invalid),null):null!=t.min&&i<t.min?($(this).removeClass(t.valid).addClass(t.invalid),null):null!=t.max&&i>t.max?($(this).removeClass(t.valid).addClass(t.invalid),null):($(this).removeClass(t.invalid).addClass(t.valid),this))})},ecmsNumberFormat:function(a){var i={min:null,max:null,dec:0,inc:1,valid:"valid",invalid:"invalid"};if("undefined"!=typeof a)var a=$.extend(i,a);else var a=i;return this.each(function(){var i=parseFloat($(this).val());$(this).val(i);var t=a;if(parseFloat($(this).attr("min"))&&(t.min=$(this).attr("min")),parseFloat($(this).attr("max"))&&(t.max=$(this).attr("max")),parseFloat($(this).attr("step"))&&(t.inc=$(this).attr("step")),parseFloat($(this).data("ecms-min"))&&(t.min=$(this).data("ecms-min")),parseFloat($(this).data("ecms-max"))&&(t.max=$(this).data("ecms-max")),parseFloat($(this).data("ecms-dec"))&&(t.dec=$(this).data("ecms-dec")),parseFloat($(this).data("ecms-inc"))&&(t.inc=$(this).data("ecms-inc")),$(this).data("ecms-valid")&&(t.valid=$(this).data("ecms-valid")),$(this).data("ecms-invalid")&&(t.invalid=$(this).data("ecms-invalid")),t.min&&(t.min=parseFloat(t.min)),t.max&&(t.max=parseFloat(t.max)),isNaN(t.dec)||(t.dec=parseFloat(t.dec)),isNaN(t.inc)||(t.inc=parseFloat(t.inc)),0==t.dec&&t.inc!=Math.round(t.inc)){var s=t.inc.toString().match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);t.dec=s?Math.max(0,(s[1]?s[1].length:0)-(s[2]?+s[2]:0)):0}return""==i?($(this).removeClass(t.invalid+" "+t.valid),null):(i=Math.round(i*(1/t.inc))/(1/t.inc),i=i.toFixed(t.dec),null!=t.min&&i<t.min?i=t.min.toFixed(t.dec):null!=t.max&&i>t.max&&(i=t.max.toFixed(t.dec)),$(this).val(i).removeClass(t.invalid+" "+t.valid),this)})}});